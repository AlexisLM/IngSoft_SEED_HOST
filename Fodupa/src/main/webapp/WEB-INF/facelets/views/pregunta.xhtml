<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
                xmlns:p="http://primefaces.org/ui"
                xmlns:a="http://xmlns.jcp.org/jsf/passthrough">
    
    <!-- Realizar Pregunta -->
    <div id="addQuestion-cont" class="col-sm-7 mx-auto mt-3">
        <div class="card link">
            <div class="card-body">
                <span class="card-title text-muted">Realiza una pregunta...</span>
                <i class="fas fa-plus-circle fa-lg float-right" style="color:#3498db;"></i>
            </div>
        </div>
    </div>

    <!-- Realizar Pregunta Modal -->
    <div id="ask" class="col-sm-8 mx-auto mt-5 hide">
        <div class="card">
            <div class="card-body">
                <h:form id="form_question">
                    <p:messages id="messages" autoUpdate="true" closable="true" showDetail ="true"/>
                    <div class="form-group row">
                        <label class="col-md-2 col-form-label" for="title">Titulo: </label>  
                        <div class="col-sm-7">
                            <h:inputText id="title" class="form-control" value="#{preguntaController.pregunta.titulo}" a:placeholder="Titulo" required="true"/>
                            <div id="error_title" class="hide text-danger"></div>
                        </div>
                    </div>
                    <div class="form-group row">
                        <label class="col-md-2 col-form-label text-success" for="category">Categoría: </label>
                        <div class="col-sm-6">
                            <h:selectOneMenu id="category" class="form-control is-valid" value="#{preguntaController.pregunta.categoria}" required="true">
                                <f:selectItems value="#{preguntaController.categorias}" var="cat" itemValue="#{cat.id}:#{cat.nombre}" itemLabel="#{cat.nombre}"/>
                            </h:selectOneMenu>
                        </div>
                    </div>
                    <div class="form-group row">
                        <label class="col-md-2 col-form-label text-success" for="details">Detalles: </label>
                        <div class="col-sm-8">
                            <h:inputTextarea id="details" class="form-control is-valid" value="#{preguntaController.pregunta.detalles}" a:placeholder="Opcional"/>
                            <div id="error_details" class="hide text-danger"></div>
                        </div>
                    </div>
                    <div class="col-md-12">
                        <h:commandButton class="btn btn-outline-success float-right ml-3" value="Enviar" action="#{preguntaController.createPregunta}"/>
                        <button type="button" class="btn btn-outline-secondary float-right btn-question">Cancelar</button>
                    </div>
                </h:form>
            </div>
        </div>
    </div>

    <!-- Contenedor de preguntas -->
    <div class="comments-container">
        <ul id="comments-list" class="comments-list">
            <li>
                <c:forEach items="#{preguntaController.preguntas}" var="pregunta">
                    <div class="comment-main-level mt-3">
                        <!-- Avatar -->
                        <div class="comment-avatar">
                            <h:graphicImage value="https://cdn2.iconfinder.com/data/icons/ios-7-icons/50/user_male2-512.png" alt=""/>
                        </div>
                        <!-- Contenedor de la Pregunta -->
                        <div class="comment-box">
                            <!-- Encabezado de la pregunta -->
                            <div class="comment-head">
                                <h6 class="comment-name by-author">
                                    <h:outputText value="#{pregunta.idusuario.nombre}" />
                                    <span class="category">
                                        <h:outputText value="#{pregunta.idcategoria.nombre}" />
                                    </span>
                                </h6>
                                <span>
                                    <h:outputText value="#{pregunta.fecha}"/>
                                </span>
                            </div>
                            <!-- Título de la pregunta -->
                            <div class="question_title pl-4 pt-2">
                                <h:outputText value="#{pregunta.titulo}"/>
                            </div>
                            <!-- Detalles de la pregunta -->
                            <div class="comment-content pl-5">
                                <h:outputText value="#{pregunta.descripcion}"/>
                            </div>
                            <div class="icon-content">
                                <i class="fa fa-heart"></i> 
                                <i class="fa fa-reply"></i>
                            </div>
                        </div>
                    </div>
                </c:forEach>
            </li>
        </ul>
    </div>

</ui:composition>